(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[881],{3188:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var r=s(5155),a=s(2115),l=s(8482),i=s(7168),n=s(8145),d=s(9852),c=s(6220),o=s(6639),x=s(1436);function u(){let[e,t]=(0,a.useState)(""),[s,o]=(0,a.useState)(null),[u,h]=(0,a.useState)([]),[b,m]=(0,a.useState)([]),[g,p]=(0,a.useState)([]),[f,j]=(0,a.useState)([]);(0,a.useEffect)(()=>{let e=x.su.getBatches();h(e),m(e)},[]),(0,a.useEffect)(()=>{""===e.trim()?m(u):m(u.filter(t=>t.batchId.toLowerCase().includes(e.toLowerCase())||t.productName.toLowerCase().includes(e.toLowerCase())||t.rfidTag.toLowerCase().includes(e.toLowerCase())||t.qrCode.toLowerCase().includes(e.toLowerCase())))},[e,u]),(0,a.useEffect)(()=>{if(s){let e=x.ev.getInspectionsByBatch(s),t=x.I_.getLogsByBatch(s);p(e),j(t)}},[s]);let v=e=>{switch(e){case"Delivered":return"default";case"In Transit":default:return"secondary";case"At Origin":return"outline"}},N=e=>{switch(e){case"Batch Created":return"bg-blue-100 text-blue-800 border-blue-200";case"Location Update":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Quality Inspection":return"bg-orange-100 text-orange-800 border-orange-200";case"Dispatched":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},w=u.find(e=>e.batchId===s);return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-blue-950 to-indigo-950 relative overflow-hidden",children:[(0,r.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,r.jsxs)("div",{className:"absolute -inset-10 opacity-40",children:[(0,r.jsx)("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-blue-600 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),(0,r.jsx)("div",{className:"absolute top-3/4 right-1/4 w-96 h-96 bg-emerald-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse delay-1000"}),(0,r.jsx)("div",{className:"absolute bottom-1/4 left-1/2 w-96 h-96 bg-violet-600 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse delay-2000"})]}),(0,r.jsx)("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(59,130,246,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(59,130,246,0.03)_1px,transparent_1px)] bg-[size:50px_50px]"})]}),(0,r.jsxs)("div",{className:"relative p-8 space-y-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-400 to-emerald-400 bg-clip-text text-transparent",children:"NFT Certificates"}),(0,r.jsx)("p",{className:"text-slate-300 mt-2 text-lg",children:"Track product journey via RFID/QR codes and blockchain verification"})]}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)(i.$,{variant:"outline",onClick:()=>{if(u.length>0){let e=u[Math.floor(Math.random()*u.length)];t(e.qrCode),o(e.batchId)}},className:"bg-blue-500/20 border-blue-500/30 text-blue-300 hover:bg-blue-500/30 hover:border-blue-500/50 transition-all duration-300",children:"\uD83D\uDCF1 Simulate QR Scan"}),(0,r.jsx)(i.$,{variant:"outline",onClick:()=>{if(u.length>0){let e=u[Math.floor(Math.random()*u.length)];t(e.rfidTag),o(e.batchId)}},className:"bg-emerald-500/20 border-emerald-500/30 text-emerald-300 hover:bg-emerald-500/30 hover:border-emerald-500/50 transition-all duration-300",children:"\uD83D\uDCE1 Simulate RFID Scan"})]})]}),(0,r.jsxs)(l.Zp,{className:"relative p-6 bg-black/40 border border-white/10 hover:border-white/20 transition-all duration-300 backdrop-blur-xl overflow-hidden group",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,r.jsx)("div",{className:"relative",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(c.J,{htmlFor:"search",className:"text-blue-300",children:"Search by Batch ID, RFID, or QR Code"}),(0,r.jsx)(d.p,{id:"search",type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Enter BCH-2025-001, RFID-001-MNG, or QR-001-MNG-2025...",className:"mt-1 bg-white/5 border-white/10 text-white placeholder:text-slate-400 focus:border-blue-400 focus:ring-blue-400"})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.map(e=>(0,r.jsxs)("div",{className:"border rounded-lg p-4 cursor-pointer transition-all ".concat(s===e.batchId?"border-blue-500/40 bg-blue-500/10":"border-white/10 hover:border-blue-500/30 bg-white/5"),onClick:()=>o(s===e.batchId?null:e.batchId),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("span",{className:"font-semibold text-white",children:e.batchId}),(0,r.jsx)(n.E,{variant:v(e.status),children:e.status})]}),(0,r.jsxs)("div",{className:"space-y-1 text-sm text-slate-300",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{className:"text-blue-300",children:"Product:"})," ",e.productName]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{className:"text-blue-300",children:"Location:"})," ",e.currentLocation]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{className:"text-blue-300",children:"RFID:"})," ",(0,r.jsx)("span",{className:"font-mono text-emerald-400",children:e.rfidTag})]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{className:"text-blue-300",children:"QR Code:"})," ",(0,r.jsx)("span",{className:"font-mono text-violet-400",children:e.qrCode})]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{className:"text-blue-300",children:"Quantity:"})," ",e.quantity," ",e.unit]})]})]},e.batchId))})]})})]}),s&&w&&(0,r.jsx)(l.Zp,{className:"p-6 bg-black/40 border border-white/10 backdrop-blur-xl",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center text-white",children:[(0,r.jsx)("span",{className:"mr-2",children:"\uD83D\uDDFA️"})," Journey Timeline - ",w.batchId]}),(0,r.jsx)("div",{className:"mb-6 p-4 bg-white/5 rounded-lg border border-white/10",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-slate-300",children:[(0,r.jsx)("strong",{className:"text-blue-300",children:"Product:"})," ",w.productName]}),(0,r.jsxs)("p",{className:"text-slate-300",children:[(0,r.jsx)("strong",{className:"text-blue-300",children:"Current Location:"})," ",w.currentLocation]}),(0,r.jsxs)("p",{className:"text-slate-300",children:[(0,r.jsx)("strong",{className:"text-blue-300",children:"Temperature:"})," ",w.temperature]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-slate-300",children:[(0,r.jsx)("strong",{className:"text-blue-300",children:"Current Status:"}),(0,r.jsx)(n.E,{variant:v(w.status),className:"ml-2",children:w.status})]}),(0,r.jsx)("p",{className:"text-slate-300",children:(0,r.jsx)("strong",{className:"text-blue-300",children:"Tracking Codes:"})}),(0,r.jsxs)("p",{className:"font-mono text-xs text-emerald-400",children:["RFID: ",w.rfidTag]}),(0,r.jsxs)("p",{className:"font-mono text-xs text-violet-400",children:["QR: ",w.qrCode]})]})]})}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("h4",{className:"text-lg font-semibold text-white",children:"Blockchain Timeline"}),f.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("div",{className:"w-4 h-4 rounded-full border-2 ".concat(0===t?"bg-blue-500 border-blue-500":"bg-slate-600 border-slate-500")}),t<f.length-1&&(0,r.jsx)("div",{className:"w-0.5 h-12 bg-gray-300 mt-2"})]}),(0,r.jsx)("div",{className:"flex-1 pb-8",children:(0,r.jsxs)("div",{className:"bg-black/20 border border-white/10 rounded-lg p-4 hover:bg-black/30 transition-all duration-300",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(n.E,{className:N(e.action),children:e.action}),(0,r.jsx)("span",{className:"text-sm font-medium text-white",children:e.locationName})]}),(0,r.jsx)("span",{className:"text-xs text-white/60",children:new Date(e.timestamp).toLocaleString()})]}),(0,r.jsxs)("div",{className:"text-sm text-white/80 space-y-2",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{className:"text-white",children:"Actor:"})," ",e.actorName]}),Object.entries(e.details).map(e=>{let[t,s]=e;return(0,r.jsxs)("p",{children:[(0,r.jsxs)("strong",{className:"text-white",children:[t,":"]})," ",String(s)]},t)}),(0,r.jsxs)("div",{className:"mt-3 p-2 bg-gray-50 rounded text-xs",children:[(0,r.jsx)("p",{children:(0,r.jsx)("strong",{children:"Blockchain Hash:"})}),(0,r.jsx)("p",{className:"font-mono break-all",children:e.transactionHash}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Block:"})," #",e.blockNumber]})]})]})]})})]},e.logId))]}),g.length>0&&(0,r.jsxs)("div",{className:"mt-8",children:[(0,r.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Quality Inspections"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map(e=>(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("span",{className:"font-medium",children:e.inspectionId}),(0,r.jsx)(n.E,{variant:"Pass"===e.result?"default":"secondary",children:e.result})]}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Inspector:"})," ",e.inspectorName]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"AI Grade:"})," ",e.aiGrade," (",e.aiScore,"%)"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Confidence:"})," ",e.confidence,"%"]}),(0,r.jsx)("p",{className:"text-gray-600",children:e.comments}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleString()})]})]},e.inspectionId))})]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)(l.Zp,{className:"relative p-6 bg-black/40 backdrop-blur-xl border border-white/10 hover:border-white/20 transition-all duration-300",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-emerald-500/5 to-violet-500/5 rounded-lg"}),(0,r.jsxs)("div",{className:"relative text-center",children:[(0,r.jsx)("p",{className:"text-3xl font-bold text-blue-400",children:u.length}),(0,r.jsx)("p",{className:"text-white/60",children:"Total Batches"})]})]}),(0,r.jsxs)(l.Zp,{className:"relative p-6 bg-black/40 backdrop-blur-xl border border-white/10 hover:border-white/20 transition-all duration-300",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-emerald-500/5 to-violet-500/5 rounded-lg"}),(0,r.jsxs)("div",{className:"relative text-center",children:[(0,r.jsx)("p",{className:"text-3xl font-bold text-emerald-400",children:u.filter(e=>"In Transit"===e.status).length}),(0,r.jsx)("p",{className:"text-white/60",children:"Active Shipments"})]})]}),(0,r.jsxs)(l.Zp,{className:"relative p-6 bg-black/40 backdrop-blur-xl border border-white/10 hover:border-white/20 transition-all duration-300",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-emerald-500/5 to-violet-500/5 rounded-lg"}),(0,r.jsxs)("div",{className:"relative text-center",children:[(0,r.jsx)("p",{className:"text-3xl font-bold text-violet-400",children:f.length}),(0,r.jsx)("p",{className:"text-white/60",children:"Blockchain Records"})]})]})]})]})]})}function h(){return(0,r.jsx)(o.O,{children:(0,r.jsx)(u,{})})}},5948:(e,t,s)=>{Promise.resolve().then(s.bind(s,3188))},6220:(e,t,s)=>{"use strict";s.d(t,{J:()=>o});var r=s(5155),a=s(2115),l=s(3655),i=a.forwardRef((e,t)=>(0,r.jsx)(l.sG.label,{...e,ref:t,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null===(s=e.onMouseDown)||void 0===s||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var n=s(2085),d=s(3999);let c=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(i,{ref:t,className:(0,d.cn)(c(),s),...a})});o.displayName=i.displayName},7168:(e,t,s)=>{"use strict";s.d(t,{$:()=>c});var r=s(5155),a=s(2115),l=s(4624),i=s(2085),n=s(3999);let d=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:s,variant:a,size:i,asChild:c=!1,...o}=e,x=c?l.DX:"button";return(0,r.jsx)(x,{className:(0,n.cn)(d({variant:a,size:i,className:s})),ref:t,...o})});c.displayName="Button"},9852:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var r=s(5155),a=s(2115),l=s(3999);let i=a.forwardRef((e,t)=>{let{className:s,type:a,...i}=e;return(0,r.jsx)("input",{type:a,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...i})});i.displayName="Input"}},e=>{var t=t=>e(e.s=t);e.O(0,[266,703,441,684,358],()=>t(5948)),_N_E=e.O()}]);